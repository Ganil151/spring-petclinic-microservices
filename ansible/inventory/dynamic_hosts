# ───────────────────────────────────────────────────────────────────
# Ansible Inventory — Auto-Generated by Terraform
# ───────────────────────────────────────────────────────────────────
# WARNING: This file is managed by Terraform. Do NOT edit manually.
# Any changes will be overwritten on the next `terraform apply`.
#
# Tool Installation Matrix:
# ┌───────────────────┬──────────────────────────────────────────────┐
# │ Instance          │ Ansible Roles                                │
# ├───────────────────┼──────────────────────────────────────────────┤
# │ Jenkins Master    │ java, docker, awscli, jenkins, security_tools│
# │ Worker Nodes      │ java, docker, awscli, maven, kubectl, helm   │
# │ SonarQube         │ java, docker, awscli, sonarqube, sec_tools   │
# └───────────────────┴──────────────────────────────────────────────┘
# ───────────────────────────────────────────────────────────────────

[jenkins_master]
54.161.104.12 ansible_user=ec2-user ansible_ssh_private_key_file=../terraform/environments/dev/spms-dev.pem private_ip=10.0.1.77

[worker_nodes]
54.80.129.103 ansible_user=ec2-user ansible_ssh_private_key_file=../terraform/environments/dev/spms-dev.pem private_ip=10.0.1.245

[sonarqube]
52.87.198.105 ansible_user=ec2-user ansible_ssh_private_key_file=../terraform/environments/dev/spms-dev.pem private_ip=10.0.1.93

# ───────────────────────────────────────────────────────────────────
# Group Aggregation — Maps to Playbook Plays
# ───────────────────────────────────────────────────────────────────

# Play 1: Core tools (java, docker, awscli) → all_nodes
[all_nodes:children]
jenkins_master
worker_nodes
sonarqube

# Play 2: Jenkins install & config → jenkins_master
# (uses [jenkins_master] group directly)

# Play 3: Build & deploy tools (maven, kubectl, helm) → build_agents
[build_agents:children]
worker_nodes

# Play 4: SonarQube stack deployment → sonarqube
# (uses [sonarqube] group directly)

# Play 5: Security scanners (trivy, checkov) → devops_tools
[devops_tools:children]
jenkins_master
sonarqube
